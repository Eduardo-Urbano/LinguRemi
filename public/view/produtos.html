<!DOCTYPE html>
<html lang="pt-br" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../assets/css/output.css">
    <title>Produtos</title>
    <link rel="shortcut icon" href="../assets/images/icones/logo1.ico" type="image/x-icon">
</head>
<body>
    
    <header class="flex justify-between items-center px-5 shadow-sm">
        <nav class="flex flex-row gap-x-6 text-xl w-1/3">
            <ul class="flex flex-row space-x-6">
                <li><a href="./produtos.html"><strong>Produtos</strong></a></li>
                <li><a href="#footer">Sobre nós</a></li>
                <li><a href="./blog.html">Blog</a></li>
            </ul>
        </nav>

        <div class="flex justify-center w-1/3">
            <img class="w-62" src="../assets/images/logo/logo1.png" id="">
        </div>

        <nav class="flex flex-row gap-x-6 text-xl w-1/3 justify-end">
            <ul class="flex flex-row space-x-6">
                <li><a id="ident0" class="flex" href="#">Login</a></li>
                <li><a id="ident1" class="hidden" href="./perfil.html"></a></li>
                <li><a href="./index.html"><img src="../assets/images/icones/Home.png" alt="Página inicial"></a></li>
                <li><a href="./carrinho.html"><img src="../assets/images/icones/carrinho2.png" alt="Meu Carrinho"></a></li>
            </ul>
        </nav>
    </header>

    <div class="flex flex-col grow">

        <div class="w-full flex text-center"><h1 class="text-4xl mx-auto my-3 flex self-center"><strong>Nossos Doces</strong></h1></div>
        <!--Cards de receitas-->
        <main class="container mx-auto p-4 px-4 pb-12">
            <div id="produtos" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
        </main>

    </div>
        
        <footer id="footer" class="text-gray-200 pt-32 bg-linear-to-br from-gray-500 from-1% via-gray-700 via-9% to-black to-90%">
            <div class="container mb-0 mx-auto px-6">
                <div class="flex flex-col md:flex-row justify-between gap-6">
        
                    <div class="md:w-2/5 min-w-0">
                        <a href="#">
                            <img class="mt-0 max-h-1/4 max-w-10/12 place-self-center" src="../assets/images/icones/logo1.ico" alt="LinguRemi">
                        </a>
                        <p class="mt-6 text-gray-300 wrap-break-words max-w-full overflow-hidden whitespace-normal">
                            Lorem ipsum dolor sit amet consectetur adipisicing elit.
                            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eaque eos consectetur consequuntur sunt sequi sint inventore nesciunt, omnis iure repellendus possimus cumque. Distinctio vel cum iusto quia corrupti. Recusandae, quibusdam!
                        </p>
                    </div>
                    <div class="col-span-1 md:col-span-3 lg:col-span-2">
                        <h5 class="tracking-wide text-gray-100 font-semibold">Company</h5>
                        <ul class="list-none mt-6 space-y-2">
                            <li><a href="#" class="text-gray-300 hover:text-gray-400 transition-all duration-500">Nosso Blog</a></li>
                            <li><a href="#" class="text-gray-300 hover:text-gray-400 transition-all duration-500">Trabalhe conosco</a></li>
                            <li><a href="#" class="text-gray-300 hover:text-gray-400 transition-all duration-500">Contato</a></li>
                        </ul>
                    </div>
                    <div class="col-span-1 md:col-span-3 lg:col-span-2">
                        <h5 class="tracking-wide text-gray-100 font-semibold">Redes sociais</h5>
                        <ul class="list-none mt-6 space-y-2">
                            <li><a href="#" class="text-gray-300 hover:text-gray-400 transition-all duration-500">WhatsApp</a></li>
                            <li><a href="#" class="text-gray-300 hover:text-gray-400 transition-all duration-500">Instagram</a></li>
                            <li><a href="#" class="text-gray-300 hover:text-gray-400 transition-all duration-500">TikTok</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="text-center mt-1 pb-10">©LinguRémi 2025</div>
        </footer>
        <script type="module" src="../../src/build/receitas.js"></script>
        <script type="module" src="../../src/build/initBlog.js"></script>
        <script type="module" src="../../src/build/login.js"></script>
        <script type="module" src="../../src/build/cadastro.js"></script>
        <script>
            document.addEventListener("DOMContentLoaded", async () => {
                const container = document.getElementById("produtos");
                if (!container) return;
        
                container.innerHTML = "<p>Carregando...</p>";
        
                async function carregarProdutos() {
                    try {
                        const response = await fetch("http://localhost:8080/receitas/produtos");
                        if (!response.ok) throw new Error("Erro ao buscar produtos");
                        return await response.json();
                    } catch (error) {
                        console.error("Erro ao carregar produtos:", error);
                        return [];
                    }
                }
        
                const produtos = await carregarProdutos();
                container.innerHTML = "";
        
                produtos.forEach(produto => {
                    const card = document.createElement("div");
                    card.className = `
                       bg-white rounded-xl shadow-lg overflow-hidden flex flex-col cursor-pointer
                    `;
        
                    const imagem = `http://localhost:8080/${produto.imgReceitas}`;
        
                    card.innerHTML = `
                        <img src="${imagem}" alt="${produto.nomeReceitas}" class="w-full h-48 object-cover">
                        <div class="p-4 flex flex-col">
                            <div class="flex flex-row">
                                <h3 class="font-bold text-lg mb-2 pr-5">${produto.nomeReceitas}</h3>
                                <p class="text-sm mt-1">★ ${produto.avaliacaoReceitas}</p>
                            </div>
                            <p class="text-gray-600 text-sm">${produto.descReceitas}</p>
                            <h3 class="font-semibold mt-5">R$ ${produto.valorReceitas.toFixed(2)}</h3>
                        </div>
                    `;
        
                    card.addEventListener("click", () => {
                        window.location.href = `item.html?id=${produto.idReceitas}`;
                    });
        
                    container.appendChild(card);
                });
            });
            </script>
    
        
</body>
</html>